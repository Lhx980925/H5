<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>demo</title>
    </head>
    <body>
            <input type="text" value="请输入想查找的商品" id="text" style="width:200px;height:40px;border:2px solid #e1af67;color:#747474;"/>
            <input type="button" value="搜索" id="addButton" style="width:130px;height:35px;color:#747474;"/>
            <div style="margin-left:360px;margin-top:30px;width:30px;height:30px;"><input type="button" value="X" id="removeButton" style="color:white;border:0;background-color:#e0e0e0;width:30px;height:30px;font-size:20px;"/></div>
            <div style="margin-top:-60px;">最近搜索</div><br/>
            <div id="data" style="width:360px;height:200px;"></div>
    </body>
    <script type="text/javascript">
        if(!window.localStorage){
            alert("您的浏览器不支持localstorage");
        }
        else{
            window.onload = function(){
                document.getElementById("text").onclick=function(){
                document.getElementById("text").value=" ";
                }
                document.getElementById("addButton").onclick = function(){
                    var time = new Date().getTime();
                    var text = document.getElementById("text").value;
                    var arr=[];
                    localStorage.setItem(time, text);
                    for(var i=0; i<localStorage.length; i++){
                        var key = localStorage.key(i);
                        var data = localStorage.getItem(key);
                        arr+="<span style='background-color:#e0e0e0;'>"+data+"</span>"+"&nbsp;"+"&nbsp;";
                        document.getElementById("data").innerHTML = arr;
                    }
                    document.getElementById("text").value="";
                }
                document.getElementById("removeButton").onclick = function(){
                    if(window.confirm("是否确认清除全部历史记录？")){
                        localStorage.clear();
                        window.location.reload();
                        document.getElementById("text").value="请输入想查找的商品";
                    }
                }
            }
        }
    </script>
</html>